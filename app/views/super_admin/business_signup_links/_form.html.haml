%div.col-md-12
  .row.signup_link_form
    .form-group
      %label{for: "signup_link_title"} Title
      .halfWidth
        = f.cktext_area :title, required: true, class: 'form-control login halfWidth', ckeditor: { toolbar: 'support' }
    .form-group
      %label{for: "signup_link_onetime_charge"} Onetime Charge
      = f.number_field :onetime_charge, required: true, class: 'form-control login halfWidth', placeholder: 'Onetime Charge'
    .form-group
      %label{for: 'signup_link_stripe_plan'} Plan
      = f.select :plan_key, Internal::Package.business_signup.plans.order(:amount).map { |plan| [plan.key.titleize, plan.key] }, {}, required: true, class: 'form-control halfWidth'
    .form-group
      %label Discount Category
      .radio
        %label.pr
          = f.radio_button :discount_type, 'coupon'
          Coupon
        %label.pr
          = f.radio_button :discount_type, 'trial'
          Trial
    .form-group
      %span.coupon_div{class: "#{'hidden' unless f.object.coupon?}"}
        = f.label :coupon
        = f.select :coupon_code, Subscription::Coupon.order(:coupon_id).pluck(:coupon_id), { include_blank: 'Coupon' }, class: 'form-control halfWidth'
      %span.trial_div{class: "#{'hidden' unless f.object.trial?}"}
        = f.label :trial_interval
        = f.select :trial_interval, SignupLink::TRIAL_INTERVALS, { include_blank: 'Trial Interval' }, class: 'form-control halfWidth'
        %br
        = f.label :trial_interval_count
        = f.number_field :trial_interval_count, class: 'form-control halfWidth', placeholder: 'Trial Interval Count'
    .form-group
      %label{for: "signup_link_expires_on"} Expires On
      = f.date_field :expires_on, class: 'form-control login halfWidth', placeholder: 'Expires On', min: Date.today
    .form-group
      = f.submit "Save Link", class: 'btn btn-warning saveBtn'
:javascript
  $("input[name='signup_link[discount_type]']").click(function(){
    var radioValue = $("input[name='signup_link[discount_type]']:checked").val();
    if(radioValue == 'coupon'){
      $('.trial_div').addClass('hidden')
      $('.coupon_div').removeClass('hidden')
    }else{
      $('.coupon_div').addClass('hidden')
      $('.trial_div').removeClass('hidden')
    }
  });
