- if @signup_link&.trial?
  - sub_amount = 0
- elsif @coupon.present?
  - sub_amount = @subscription.amount - discount_by_coupon(@coupon, @subscription.amount, false)
- else
  - sub_amount = @subscription.amount

- total_amount = [sub_amount, @subscription.onetime_charge, @signup_link&.onetime_charge.to_i].flatten.compact.sum

Total Amount Recieved:
= number_to_currency(total_amount)
